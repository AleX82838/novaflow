<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NOVAFLOW ‚Äî Mercado & Bazar</title>

 <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">


  <!-- Tipograf√≠as -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app" class="theme-dark">
    <!-- HEADER -->
    <header id="site-header" class="header">
      <div class="header-inner">
        <div class="brand" role="banner">
          <div id="logo-placeholder" class="logo" aria-hidden="true">
            <img src="novaflow.png" alt="NOVAFLOW">
            <svg width="48" height="48" viewBox="0 0 100 100" aria-hidden="true">
              <rect rx="14" width="100" height="100" fill="#0b1116"/>
              <text x="50%" y="56%" text-anchor="middle" font-family="Inter, sans-serif" font-weight="800" font-size="42" fill="#d4b36a">N</text>
            </svg>
          </div>
          <div class="brand-text">
            <div class="title">NOVAFLOW</div>
            <div class="subtitle">Mercado ¬∑ Bazar ¬∑ Eventos</div>
          </div>
        </div>

        <nav class="nav" role="navigation" aria-label="Navegaci√≥n principal">
          <button class="nav-item active" data-target="home">Inicio</button>
          <button class="nav-item" data-target="catalog">Categor√≠as</button>
          <button class="nav-item" data-target="featured">Destacados</button>
          <button class="nav-item" data-target="events">Eventos</button>
          <button class="nav-item" data-target="contact">Contacto</button>
        </nav>

        <div class="header-actions">
          <div class="clock" id="live-clock" aria-live="polite">--:--:--</div>
          <button id="theme-toggle" class="icon-btn" title="Cambiar tema">üåì</button>
          <button id="cart-toggle" class="cart-btn" aria-label="Abrir carrito">üß∫ <span id="cart-count">0</span></button>
          <button id="install-btn" class="icon-btn" title="Instalar NOVAFLOW" style="display:none">üì≤ Instalar</button>
        </div>
      </div>
    </header>

    <!-- MAIN -->
    <main>
      <!-- HOME -->
      <section id="home" class="section hero active">
        <div class="hero-inner">
          <div class="hero-left">
            <h1>Bienvenido a <span class="brand-strong">NOVAFLOW</span></h1>
            <p class="lead">Comida, bebidas, ropa y art√≠culos coleccionables. Acomp√°√±anos en nuestros bazares presenciales.</p>

            <div class="hero-cta">
              <button class="btn-primary" data-target="catalog">Explorar tienda</button>
              <button class="btn-outline" data-target="events">Ver eventos</button>
            </div>

            <div class="event-panel card">
              <div class="event-head">
                <div>
                  <strong>Pr√≥ximo Bazar</strong>
                  <div class="muted">26 de diciembre de 2025 ¬∑ 4:00 PM ¬∑ Juchitan De Zaragoza Oax. </div>
                </div>
              </div>
              <div id="countdown" class="countdown" aria-live="polite">
                <div class="cd-piece"><span id="cd-days">00</span><small>D√çAS</small></div>
                <div class="cd-piece"><span id="cd-hours">00</span><small>HORAS</small></div>
                <div class="cd-piece"><span id="cd-mins">00</span><small>MIN</small></div>
                <div class="cd-piece"><span id="cd-secs">00</span><small>SEG</small></div>
              </div>
            </div>
          </div>

          <aside class="hero-right">
            <div class="search-card card">
              <label for="search">Buscar productos</label>
              <input id="search" type="search" placeholder="Ej. playera NOVAFLOW" />
              <div class="quick-filters">
                <button class="chip active" data-cat="all">Todas</button>
                <button class="chip" data-cat="food">Comida</button>
                <button class="chip" data-cat="drinks">Bebidas</button>
                <button class="chip" data-cat="clothing">Ropa</button>
                <button class="chip" data-cat="collectibles">Coleccionables</button>
              </div>
            </div>

            <div class="estimate card">
              <h4>Tiempo estimado</h4>
              <div id="estimate-value">Sin art√≠culos</div>
              <div class="muted small">Basado en la selecci√≥n actual</div>
            </div>

            <div class="support card">
              <h4>Soporte</h4>
              <p class="muted small">¬øNecesitas ayuda? Usa el chat o cont√°ctanos por WhatsApp.</p>
              <div class="support-actions">
                <button id="open-chat" class="btn-outline">Abrir chat</button>
                <button id="share-location-btn" class="btn-primary">Compartir ubicaci√≥n</button>
              </div>
            </div>
          </aside>
        </div>
      </section>

      <!-- CATALOG -->
      <section id="catalog" class="section">
        <div class="section-header">
          <h2>Categor√≠as</h2>
          <div class="sort-area">
            <label for="sort">Ordenar:</label>
            <select id="sort">
              <option value="popular">Recomendados</option>
              <option value="price-asc">Precio: menor ‚Üí mayor</option>
              <option value="price-desc">Precio: mayor ‚Üí menor</option>
            </select>
          </div>
        </div>

        <div id="products" class="products-grid" aria-live="polite"></div>
      </section>

      <!-- üî• PRODUCTOS DESTACADOS -->
<section id="destacados" class="section destacados-section">
  <h2 class="section-title">Productos Destacados</h2>
  <div class="destacados-container">
    <button class="carousel-btn prev" id="prevBtn">&#10094;</button>

    <div class="destacados-carousel" id="destacadosCarousel">
      <!-- Los productos se insertan din√°micamente desde script.js -->
    </div>

    <button class="carousel-btn next" id="nextBtn">&#10095;</button>
  </div>
</section>


      <!-- EVENTS -->
      <section id="events" class="section">
        <h2>Eventos & Bazar</h2>
        <div class="card">
          <p class="muted">Ven a conocer vendedores locales, probar comidas y encontrar art√≠culos exclusivos.</p>
          <div class="event-large">
            <div class="event-left">
              <h3>Gran Bazar NOVAFLOW</h3>
              <p>26 de diciembre de 2025 ‚Äî 4:00 PM ¬∑ Centro Cultural (por confirmar)</p>
              <p class="muted">Entrada libre. Exhibidores limitados.</p>
            </div>
            <div class="event-right">
              <div id="countdown-large" class="countdown"></div>
              <div class="mt">
                <button id="whatsapp-send-event" class="btn-primary">Contactar por WhatsApp sobre el evento</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- CONTACT -->
      <section id="contact" class="section">
        <h2>Contacto</h2>
        <div class="card">
          <p>Para colaboraciones y ventas a mayoreo escribe a: <a href="mailto:contacto@novaflow.example">contacto@novaflow.example</a></p>
          <p class="muted small">Tambi√©n puedes enviar tu consulta por WhatsApp usando el bot√≥n inferior.</p>
        </div>
      </section>
    </main>

    <!-- CART SIDEBAR -->
    <aside id="cart" class="cart-sidebar" aria-hidden="true">
      <div class="cart-header">
        <strong>Carrito</strong>
        <button id="close-cart" class="icon-btn">‚úï</button>
      </div>
      <div id="cart-items" class="cart-items"></div>
      <div class="cart-footer">
        <div class="cart-totals">
          <div>Subtotal <span id="subtotal">$0.00</span></div>
          <div>Env√≠o <span id="shipping">$0.00</span></div>
          <div class="total-line">Total <strong id="grandtotal">$0.00</strong></div>
        </div>
        <div class="cart-actions">
          <button id="clear-cart" class="btn-outline">Vaciar</button>
          <button id="checkout" class="btn-primary">Pagar</button>
          <button id="whatsapp-cart" class="btn-outline">Compartir por WhatsApp</button>
        </div>
      </div>
    </aside>

    <!-- CHAT SIMULADO -->
    <div id="chat-widget" class="chat-widget" aria-hidden="true">
      <div class="chat-header">
        <div>Soporte NOVAFLOW</div>
        <button id="close-chat" class="icon-btn">‚úï</button>
      </div>
      <div id="chat-messages" class="chat-messages"></div>
      <div class="chat-input">
        <input id="chat-text" placeholder="Escribe tu mensaje..." />
        <button id="send-chat" class="btn-primary">Enviar</button>
      </div>
    </div>
    <button id="chat-floating" class="chat-floating" title="Abrir chat">üí¨</button>

    <!-- WHATSAPP QUICK BUTTON (fijo abajo derecha) -->
    <a id="whatsapp-quick" class="whatsapp-quick" href="#" target="_blank" rel="noopener noreferrer" title="Contactar por WhatsApp">üí¨ WhatsApp</a>

    <!-- TOAST -->
    <div id="toast-wrap" aria-live="polite"></div>

    <!-- FOOTER -->
    <footer class="footer">
      <div>¬© <span id="year"></span> NOVAFLOW ‚Äî Todos los derechos reservados</div>
      <div class="muted small">Pol√≠tica de privacidad ¬∑ T√©rminos ¬∑ Contacto</div>
    </footer>
  </div>

  <!-- App script -->
  <script src="script.js" defer></script>

  <!-- register service worker -->
  <script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('service-worker.js')
        .then(reg => console.log('‚úÖ Service Worker registrado:', reg.scope))
        .catch(err => console.log('‚ùå Error registrando SW:', err));
    });
  }
</script>
</body>
</html>
